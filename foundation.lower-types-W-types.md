# Lower types of elements in W-types

<pre class="Agda"><a id="47" class="Symbol">{-#</a> <a id="51" class="Keyword">OPTIONS</a> <a id="59" class="Pragma">--without-K</a> <a id="71" class="Pragma">--exact-split</a> <a id="85" class="Symbol">#-}</a>

<a id="90" class="Keyword">module</a> <a id="97" href="foundation.lower-types-W-types.html" class="Module">foundation.lower-types-W-types</a> <a id="128" class="Keyword">where</a>

<a id="135" class="Keyword">open</a> <a id="140" class="Keyword">import</a> <a id="147" href="foundation.dependent-pair-types.html" class="Module">foundation.dependent-pair-types</a> <a id="179" class="Keyword">using</a> <a id="185" class="Symbol">(</a><a id="186" href="foundation-core.dependent-pair-types.html#502" class="Record">Σ</a><a id="187" class="Symbol">;</a> <a id="189" href="foundation-core.dependent-pair-types.html#575" class="InductiveConstructor">pair</a><a id="193" class="Symbol">;</a> <a id="195" href="foundation-core.dependent-pair-types.html#592" class="Field">pr1</a><a id="198" class="Symbol">;</a> <a id="200" href="foundation-core.dependent-pair-types.html#604" class="Field">pr2</a><a id="203" class="Symbol">)</a>
<a id="205" class="Keyword">open</a> <a id="210" class="Keyword">import</a> <a id="217" href="foundation.existential-quantification.html" class="Module">foundation.existential-quantification</a> <a id="255" class="Keyword">using</a> <a id="261" class="Symbol">(</a><a id="262" href="foundation.existential-quantification.html#2219" class="Function">intro-∃</a><a id="269" class="Symbol">)</a>
<a id="271" class="Keyword">open</a> <a id="276" class="Keyword">import</a> <a id="283" href="foundation.ranks-of-elements-w-types.html" class="Module">foundation.ranks-of-elements-w-types</a> <a id="320" class="Keyword">using</a> <a id="326" class="Symbol">(</a><a id="327" href="foundation.ranks-of-elements-w-types.html#1540" class="Function Operator">_≼-𝕎_</a><a id="332" class="Symbol">)</a>
<a id="334" class="Keyword">open</a> <a id="339" class="Keyword">import</a> <a id="346" href="foundation.universe-levels.html" class="Module">foundation.universe-levels</a> <a id="373" class="Keyword">using</a> <a id="379" class="Symbol">(</a><a id="380" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a><a id="382" class="Symbol">;</a> <a id="384" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="389" class="Symbol">;</a> <a id="391" href="Agda.Primitive.html#810" class="Primitive Operator">_⊔_</a><a id="394" class="Symbol">)</a>
<a id="396" class="Keyword">open</a> <a id="401" class="Keyword">import</a> <a id="408" href="foundation.w-types.html" class="Module">foundation.w-types</a> <a id="427" class="Keyword">using</a> <a id="433" class="Symbol">(</a><a id="434" href="foundation.w-types.html#2315" class="Datatype">𝕎</a><a id="435" class="Symbol">;</a> <a id="437" href="foundation.w-types.html#2384" class="InductiveConstructor">tree-𝕎</a><a id="443" class="Symbol">)</a>

<a id="446" class="Keyword">open</a> <a id="451" class="Keyword">import</a> <a id="458" href="foundation.propositions.html" class="Module">foundation.propositions</a>
</pre>
## Idea

We define by induction a type family over `W A B` that is equivalent to the type of all elements `x < tree-𝕎 a α`.

## Definition

<pre class="Agda"><a id="635" class="Keyword">module</a> <a id="642" href="foundation.lower-types-W-types.html#642" class="Module">_</a>
  <a id="646" class="Symbol">{</a><a id="647" href="foundation.lower-types-W-types.html#647" class="Bound">l1</a> <a id="650" href="foundation.lower-types-W-types.html#650" class="Bound">l2</a> <a id="653" class="Symbol">:</a> <a id="655" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="660" class="Symbol">}</a> <a id="662" class="Symbol">{</a><a id="663" href="foundation.lower-types-W-types.html#663" class="Bound">A</a> <a id="665" class="Symbol">:</a> <a id="667" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="670" href="foundation.lower-types-W-types.html#647" class="Bound">l1</a><a id="672" class="Symbol">}</a> <a id="674" class="Symbol">{</a><a id="675" href="foundation.lower-types-W-types.html#675" class="Bound">B</a> <a id="677" class="Symbol">:</a> <a id="679" href="foundation.lower-types-W-types.html#663" class="Bound">A</a> <a id="681" class="Symbol">→</a> <a id="683" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="686" href="foundation.lower-types-W-types.html#650" class="Bound">l2</a><a id="688" class="Symbol">}</a>
  <a id="692" class="Keyword">where</a>
  
  <a id="703" class="Keyword">data</a>
    <a id="712" href="foundation.lower-types-W-types.html#712" class="Datatype">lower-𝕎</a> <a id="720" class="Symbol">:</a> <a id="722" href="foundation.w-types.html#2315" class="Datatype">𝕎</a> <a id="724" href="foundation.lower-types-W-types.html#663" class="Bound">A</a> <a id="726" href="foundation.lower-types-W-types.html#675" class="Bound">B</a> <a id="728" class="Symbol">→</a> <a id="730" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="733" class="Symbol">(</a><a id="734" href="foundation.lower-types-W-types.html#647" class="Bound">l1</a> <a id="737" href="Agda.Primitive.html#810" class="Primitive Operator">⊔</a> <a id="739" href="foundation.lower-types-W-types.html#650" class="Bound">l2</a><a id="741" class="Symbol">)</a>
    <a id="747" class="Keyword">where</a>
    <a id="757" href="foundation.lower-types-W-types.html#757" class="InductiveConstructor">lower-tree-𝕎</a> <a id="770" class="Symbol">:</a>
      <a id="778" class="Symbol">{</a><a id="779" href="foundation.lower-types-W-types.html#779" class="Bound">x</a> <a id="781" class="Symbol">:</a> <a id="783" href="foundation.lower-types-W-types.html#663" class="Bound">A</a><a id="784" class="Symbol">}</a> <a id="786" class="Symbol">{</a><a id="787" href="foundation.lower-types-W-types.html#787" class="Bound">f</a> <a id="789" class="Symbol">:</a> <a id="791" href="foundation.lower-types-W-types.html#675" class="Bound">B</a> <a id="793" href="foundation.lower-types-W-types.html#779" class="Bound">x</a> <a id="795" class="Symbol">→</a> <a id="797" href="foundation.w-types.html#2315" class="Datatype">𝕎</a> <a id="799" href="foundation.lower-types-W-types.html#663" class="Bound">A</a> <a id="801" href="foundation.lower-types-W-types.html#675" class="Bound">B</a><a id="802" class="Symbol">}</a> <a id="804" class="Symbol">→</a>
      <a id="812" class="Symbol">((</a><a id="814" href="foundation.lower-types-W-types.html#814" class="Bound">y</a> <a id="816" class="Symbol">:</a> <a id="818" href="foundation.lower-types-W-types.html#675" class="Bound">B</a> <a id="820" href="foundation.lower-types-W-types.html#779" class="Bound">x</a><a id="821" class="Symbol">)</a> <a id="823" class="Symbol">→</a> <a id="825" href="foundation.lower-types-W-types.html#712" class="Datatype">lower-𝕎</a> <a id="833" class="Symbol">(</a><a id="834" href="foundation.lower-types-W-types.html#787" class="Bound">f</a> <a id="836" href="foundation.lower-types-W-types.html#814" class="Bound">y</a><a id="837" class="Symbol">))</a> <a id="840" class="Symbol">→</a> <a id="842" href="foundation.lower-types-W-types.html#712" class="Datatype">lower-𝕎</a> <a id="850" class="Symbol">(</a><a id="851" href="foundation.w-types.html#2384" class="InductiveConstructor">tree-𝕎</a> <a id="858" href="foundation.lower-types-W-types.html#779" class="Bound">x</a> <a id="860" href="foundation.lower-types-W-types.html#787" class="Bound">f</a><a id="861" class="Symbol">)</a>

  <a id="866" href="foundation.lower-types-W-types.html#866" class="Function">inclusion-lower-𝕎</a> <a id="884" class="Symbol">:</a> <a id="886" class="Symbol">{</a><a id="887" href="foundation.lower-types-W-types.html#887" class="Bound">x</a> <a id="889" class="Symbol">:</a> <a id="891" href="foundation.w-types.html#2315" class="Datatype">𝕎</a> <a id="893" href="foundation.lower-types-W-types.html#663" class="Bound">A</a> <a id="895" href="foundation.lower-types-W-types.html#675" class="Bound">B</a><a id="896" class="Symbol">}</a> <a id="898" class="Symbol">→</a> <a id="900" href="foundation.lower-types-W-types.html#712" class="Datatype">lower-𝕎</a> <a id="908" href="foundation.lower-types-W-types.html#887" class="Bound">x</a> <a id="910" class="Symbol">→</a> <a id="912" href="foundation.w-types.html#2315" class="Datatype">𝕎</a> <a id="914" href="foundation.lower-types-W-types.html#663" class="Bound">A</a> <a id="916" href="foundation.lower-types-W-types.html#675" class="Bound">B</a>
  <a id="920" href="foundation.lower-types-W-types.html#866" class="Function">inclusion-lower-𝕎</a> <a id="938" class="Symbol">(</a><a id="939" href="foundation.lower-types-W-types.html#757" class="InductiveConstructor">lower-tree-𝕎</a> <a id="952" class="Symbol">{</a><a id="953" href="foundation.lower-types-W-types.html#953" class="Bound">a</a><a id="954" class="Symbol">}</a> <a id="956" class="Symbol">{</a><a id="957" href="foundation.lower-types-W-types.html#957" class="Bound">f</a><a id="958" class="Symbol">}</a> <a id="960" href="foundation.lower-types-W-types.html#960" class="Bound">g</a><a id="961" class="Symbol">)</a> <a id="963" class="Symbol">=</a>
    <a id="969" href="foundation.w-types.html#2384" class="InductiveConstructor">tree-𝕎</a> <a id="976" href="foundation.lower-types-W-types.html#953" class="Bound">a</a> <a id="978" class="Symbol">(λ</a> <a id="981" href="foundation.lower-types-W-types.html#981" class="Bound">y</a> <a id="983" class="Symbol">→</a> <a id="985" href="foundation.lower-types-W-types.html#866" class="Function">inclusion-lower-𝕎</a> <a id="1003" class="Symbol">(</a><a id="1004" href="foundation.lower-types-W-types.html#960" class="Bound">g</a> <a id="1006" href="foundation.lower-types-W-types.html#981" class="Bound">y</a><a id="1007" class="Symbol">))</a>

  <a id="1013" href="foundation.lower-types-W-types.html#1013" class="Function">upper-bound-rank-inclusion-lower-𝕎</a> <a id="1048" class="Symbol">:</a>
    <a id="1054" class="Symbol">{</a><a id="1055" href="foundation.lower-types-W-types.html#1055" class="Bound">x</a> <a id="1057" class="Symbol">:</a> <a id="1059" href="foundation.w-types.html#2315" class="Datatype">𝕎</a> <a id="1061" href="foundation.lower-types-W-types.html#663" class="Bound">A</a> <a id="1063" href="foundation.lower-types-W-types.html#675" class="Bound">B</a><a id="1064" class="Symbol">}</a> <a id="1066" class="Symbol">(</a><a id="1067" href="foundation.lower-types-W-types.html#1067" class="Bound">y</a> <a id="1069" class="Symbol">:</a> <a id="1071" href="foundation.lower-types-W-types.html#712" class="Datatype">lower-𝕎</a> <a id="1079" href="foundation.lower-types-W-types.html#1055" class="Bound">x</a><a id="1080" class="Symbol">)</a> <a id="1082" class="Symbol">→</a> <a id="1084" href="foundation.lower-types-W-types.html#866" class="Function">inclusion-lower-𝕎</a> <a id="1102" href="foundation.lower-types-W-types.html#1067" class="Bound">y</a> <a id="1104" href="foundation.ranks-of-elements-w-types.html#1540" class="Function Operator">≼-𝕎</a> <a id="1108" href="foundation.lower-types-W-types.html#1055" class="Bound">x</a>
  <a id="1112" href="foundation.lower-types-W-types.html#1013" class="Function">upper-bound-rank-inclusion-lower-𝕎</a> <a id="1147" class="Symbol">(</a><a id="1148" href="foundation.lower-types-W-types.html#757" class="InductiveConstructor">lower-tree-𝕎</a> <a id="1161" class="Symbol">{</a><a id="1162" href="foundation.lower-types-W-types.html#1162" class="Bound">a</a><a id="1163" class="Symbol">}</a> <a id="1165" class="Symbol">{</a><a id="1166" href="foundation.lower-types-W-types.html#1166" class="Bound">f</a><a id="1167" class="Symbol">}</a> <a id="1169" href="foundation.lower-types-W-types.html#1169" class="Bound">g</a><a id="1170" class="Symbol">)</a> <a id="1172" href="foundation.lower-types-W-types.html#1172" class="Bound">y</a> <a id="1174" class="Symbol">=</a>
    <a id="1180" href="foundation.existential-quantification.html#2219" class="Function">intro-∃</a> <a id="1188" href="foundation.lower-types-W-types.html#1172" class="Bound">y</a> <a id="1190" class="Symbol">(</a><a id="1191" href="foundation.lower-types-W-types.html#1013" class="Function">upper-bound-rank-inclusion-lower-𝕎</a> <a id="1226" class="Symbol">(</a><a id="1227" href="foundation.lower-types-W-types.html#1169" class="Bound">g</a> <a id="1229" href="foundation.lower-types-W-types.html#1172" class="Bound">y</a><a id="1230" class="Symbol">))</a>
</pre>