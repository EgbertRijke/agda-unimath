<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en_US" xml:lang="en_US">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="keywords" content="univalent mathematics, homotopy type theory, univalent foundations, symmetry book, agda, formalisation, unimath" />
  <title>univalent-combinatorics.counting-fibers-of-maps</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="Agda.css" />
  <link rel="stylesheet" href="main.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<div class="powerby">
<p>src/univalent-combinatorics/counting-fibers-of-maps.lagda.md.</p>
<p>Version of Wednesday, March 23, 2022, 05:17 PM</p>
<p>Powered by agda version 2.6.2 and pandoc 2.13</p>
</div>
<hr>
<h1 id="counting-the-elements-in-the-fiber-of-a-map">Counting the elements in the fiber of a map</h1>
<pre class="Agda"><a id="56" class="Symbol">{-#</a> <a id="60" class="Keyword">OPTIONS</a> <a id="68" class="Pragma">--without-K</a> <a id="80" class="Pragma">--exact-split</a> <a id="94" class="Symbol">#-}</a>

<a id="99" class="Keyword">module</a> <a id="106" href="univalent-combinatorics.counting-fibers-of-maps.html" class="Module">univalent-combinatorics.counting-fibers-of-maps</a> <a id="154" class="Keyword">where</a>

<a id="161" class="Keyword">open</a> <a id="166" class="Keyword">import</a> <a id="173" href="elementary-number-theory.sums-of-natural-numbers.html" class="Module">elementary-number-theory.sums-of-natural-numbers</a> <a id="222" class="Keyword">using</a>
  <a id="230" class="Symbol">(</a> <a id="232" href="elementary-number-theory.sums-of-natural-numbers.html#1573" class="Function">sum-count-ℕ</a><a id="243" class="Symbol">)</a>

<a id="246" class="Keyword">open</a> <a id="251" class="Keyword">import</a> <a id="258" href="foundation.fibers-of-maps.html" class="Module">foundation.fibers-of-maps</a> <a id="284" class="Keyword">using</a> <a id="290" class="Symbol">(</a><a id="291" href="foundation-core.fibers-of-maps.html#928" class="Function">fib</a><a id="294" class="Symbol">;</a> <a id="296" href="foundation-core.fibers-of-maps.html#5261" class="Function">equiv-total-fib</a><a id="311" class="Symbol">)</a>
<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="foundation.identity-types.html" class="Module">foundation.identity-types</a> <a id="351" class="Keyword">using</a> <a id="357" class="Symbol">(</a><a id="358" href="foundation-core.identity-types.html#641" class="Datatype">Id</a><a id="360" class="Symbol">)</a>
<a id="362" class="Keyword">open</a> <a id="367" class="Keyword">import</a> <a id="374" href="foundation.universe-levels.html" class="Module">foundation.universe-levels</a> <a id="401" class="Keyword">using</a> <a id="407" class="Symbol">(</a><a id="408" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="413" class="Symbol">;</a> <a id="415" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a><a id="417" class="Symbol">)</a>

<a id="420" class="Keyword">open</a> <a id="425" class="Keyword">import</a> <a id="432" href="univalent-combinatorics.counting.html" class="Module">univalent-combinatorics.counting</a> <a id="465" class="Keyword">using</a>
  <a id="473" class="Symbol">(</a> <a id="475" href="univalent-combinatorics.counting.html#1746" class="Function">count</a><a id="480" class="Symbol">;</a> <a id="482" href="univalent-combinatorics.counting.html#3275" class="Function">count-equiv&#39;</a><a id="494" class="Symbol">;</a> <a id="496" href="univalent-combinatorics.counting.html#1874" class="Function">number-of-elements-count</a><a id="520" class="Symbol">)</a>
<a id="522" class="Keyword">open</a> <a id="527" class="Keyword">import</a> <a id="534" href="univalent-combinatorics.counting-dependent-pair-types.html" class="Module">univalent-combinatorics.counting-dependent-pair-types</a> <a id="588" class="Keyword">using</a>
  <a id="596" class="Symbol">(</a> <a id="598" href="univalent-combinatorics.counting-dependent-pair-types.html#5321" class="Function">count-fiber-count-Σ</a><a id="617" class="Symbol">;</a> <a id="619" href="univalent-combinatorics.counting-dependent-pair-types.html#9012" class="Function">sum-number-of-elements-count-fiber-count-Σ</a><a id="661" class="Symbol">)</a>
<a id="663" class="Keyword">open</a> <a id="668" class="Keyword">import</a> <a id="675" href="univalent-combinatorics.double-counting.html" class="Module">univalent-combinatorics.double-counting</a> <a id="715" class="Keyword">using</a> <a id="721" class="Symbol">(</a><a id="722" href="univalent-combinatorics.double-counting.html#1097" class="Function">double-counting</a><a id="737" class="Symbol">)</a>
</pre>
<h3 id="if-a-and-b-can-be-counted-then-the-fibers-of-a-map-f-a-b-can-be-counted">If A and B can be counted, then the fibers of a map f : A → B can be counted</h3>
<pre class="Agda"><a id="count-fib"></a><a id="834" href="univalent-combinatorics.counting-fibers-of-maps.html#834" class="Function">count-fib</a> <a id="844" class="Symbol">:</a>
  <a id="848" class="Symbol">{</a><a id="849" href="univalent-combinatorics.counting-fibers-of-maps.html#849" class="Bound">l1</a> <a id="852" href="univalent-combinatorics.counting-fibers-of-maps.html#852" class="Bound">l2</a> <a id="855" class="Symbol">:</a> <a id="857" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="862" class="Symbol">}</a> <a id="864" class="Symbol">{</a><a id="865" href="univalent-combinatorics.counting-fibers-of-maps.html#865" class="Bound">A</a> <a id="867" class="Symbol">:</a> <a id="869" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="872" href="univalent-combinatorics.counting-fibers-of-maps.html#849" class="Bound">l1</a><a id="874" class="Symbol">}</a> <a id="876" class="Symbol">{</a><a id="877" href="univalent-combinatorics.counting-fibers-of-maps.html#877" class="Bound">B</a> <a id="879" class="Symbol">:</a> <a id="881" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="884" href="univalent-combinatorics.counting-fibers-of-maps.html#852" class="Bound">l2</a><a id="886" class="Symbol">}</a> <a id="888" class="Symbol">(</a><a id="889" href="univalent-combinatorics.counting-fibers-of-maps.html#889" class="Bound">f</a> <a id="891" class="Symbol">:</a> <a id="893" href="univalent-combinatorics.counting-fibers-of-maps.html#865" class="Bound">A</a> <a id="895" class="Symbol">→</a> <a id="897" href="univalent-combinatorics.counting-fibers-of-maps.html#877" class="Bound">B</a><a id="898" class="Symbol">)</a> <a id="900" class="Symbol">→</a>
  <a id="904" href="univalent-combinatorics.counting.html#1746" class="Function">count</a> <a id="910" href="univalent-combinatorics.counting-fibers-of-maps.html#865" class="Bound">A</a> <a id="912" class="Symbol">→</a> <a id="914" href="univalent-combinatorics.counting.html#1746" class="Function">count</a> <a id="920" href="univalent-combinatorics.counting-fibers-of-maps.html#877" class="Bound">B</a> <a id="922" class="Symbol">→</a> <a id="924" class="Symbol">(</a><a id="925" href="univalent-combinatorics.counting-fibers-of-maps.html#925" class="Bound">y</a> <a id="927" class="Symbol">:</a> <a id="929" href="univalent-combinatorics.counting-fibers-of-maps.html#877" class="Bound">B</a><a id="930" class="Symbol">)</a> <a id="932" class="Symbol">→</a> <a id="934" href="univalent-combinatorics.counting.html#1746" class="Function">count</a> <a id="940" class="Symbol">(</a><a id="941" href="foundation-core.fibers-of-maps.html#928" class="Function">fib</a> <a id="945" href="univalent-combinatorics.counting-fibers-of-maps.html#889" class="Bound">f</a> <a id="947" href="univalent-combinatorics.counting-fibers-of-maps.html#925" class="Bound">y</a><a id="948" class="Symbol">)</a>
<a id="950" href="univalent-combinatorics.counting-fibers-of-maps.html#834" class="Function">count-fib</a> <a id="960" href="univalent-combinatorics.counting-fibers-of-maps.html#960" class="Bound">f</a> <a id="962" href="univalent-combinatorics.counting-fibers-of-maps.html#962" class="Bound">count-A</a> <a id="970" href="univalent-combinatorics.counting-fibers-of-maps.html#970" class="Bound">count-B</a> <a id="978" class="Symbol">=</a>
  <a id="982" href="univalent-combinatorics.counting-dependent-pair-types.html#5321" class="Function">count-fiber-count-Σ</a> <a id="1002" href="univalent-combinatorics.counting-fibers-of-maps.html#970" class="Bound">count-B</a> <a id="1010" class="Symbol">(</a><a id="1011" href="univalent-combinatorics.counting.html#3275" class="Function">count-equiv&#39;</a> <a id="1024" class="Symbol">(</a><a id="1025" href="foundation-core.fibers-of-maps.html#5261" class="Function">equiv-total-fib</a> <a id="1041" href="univalent-combinatorics.counting-fibers-of-maps.html#960" class="Bound">f</a><a id="1042" class="Symbol">)</a> <a id="1044" href="univalent-combinatorics.counting-fibers-of-maps.html#962" class="Bound">count-A</a><a id="1051" class="Symbol">)</a>
</pre>
<pre class="Agda"><a id="1066" class="Keyword">abstract</a>
  <a id="sum-number-of-elements-count-fib"></a><a id="1077" href="univalent-combinatorics.counting-fibers-of-maps.html#1077" class="Function">sum-number-of-elements-count-fib</a> <a id="1110" class="Symbol">:</a>
    <a id="1116" class="Symbol">{</a><a id="1117" href="univalent-combinatorics.counting-fibers-of-maps.html#1117" class="Bound">l1</a> <a id="1120" href="univalent-combinatorics.counting-fibers-of-maps.html#1120" class="Bound">l2</a> <a id="1123" class="Symbol">:</a> <a id="1125" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="1130" class="Symbol">}</a> <a id="1132" class="Symbol">{</a><a id="1133" href="univalent-combinatorics.counting-fibers-of-maps.html#1133" class="Bound">A</a> <a id="1135" class="Symbol">:</a> <a id="1137" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="1140" href="univalent-combinatorics.counting-fibers-of-maps.html#1117" class="Bound">l1</a><a id="1142" class="Symbol">}</a> <a id="1144" class="Symbol">{</a><a id="1145" href="univalent-combinatorics.counting-fibers-of-maps.html#1145" class="Bound">B</a> <a id="1147" class="Symbol">:</a> <a id="1149" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="1152" href="univalent-combinatorics.counting-fibers-of-maps.html#1120" class="Bound">l2</a><a id="1154" class="Symbol">}</a> <a id="1156" class="Symbol">(</a><a id="1157" href="univalent-combinatorics.counting-fibers-of-maps.html#1157" class="Bound">f</a> <a id="1159" class="Symbol">:</a> <a id="1161" href="univalent-combinatorics.counting-fibers-of-maps.html#1133" class="Bound">A</a> <a id="1163" class="Symbol">→</a> <a id="1165" href="univalent-combinatorics.counting-fibers-of-maps.html#1145" class="Bound">B</a><a id="1166" class="Symbol">)</a> <a id="1168" class="Symbol">→</a>
    <a id="1174" class="Symbol">(</a><a id="1175" href="univalent-combinatorics.counting-fibers-of-maps.html#1175" class="Bound">count-A</a> <a id="1183" class="Symbol">:</a> <a id="1185" href="univalent-combinatorics.counting.html#1746" class="Function">count</a> <a id="1191" href="univalent-combinatorics.counting-fibers-of-maps.html#1133" class="Bound">A</a><a id="1192" class="Symbol">)</a> <a id="1194" class="Symbol">(</a><a id="1195" href="univalent-combinatorics.counting-fibers-of-maps.html#1195" class="Bound">count-B</a> <a id="1203" class="Symbol">:</a> <a id="1205" href="univalent-combinatorics.counting.html#1746" class="Function">count</a> <a id="1211" href="univalent-combinatorics.counting-fibers-of-maps.html#1145" class="Bound">B</a><a id="1212" class="Symbol">)</a> <a id="1214" class="Symbol">→</a>
    <a id="1220" href="foundation-core.identity-types.html#641" class="Datatype">Id</a> <a id="1223" class="Symbol">(</a> <a id="1225" href="elementary-number-theory.sums-of-natural-numbers.html#1573" class="Function">sum-count-ℕ</a> <a id="1237" href="univalent-combinatorics.counting-fibers-of-maps.html#1195" class="Bound">count-B</a>
         <a id="1254" class="Symbol">(</a> <a id="1256" class="Symbol">λ</a> <a id="1258" href="univalent-combinatorics.counting-fibers-of-maps.html#1258" class="Bound">x</a> <a id="1260" class="Symbol">→</a> <a id="1262" href="univalent-combinatorics.counting.html#1874" class="Function">number-of-elements-count</a> <a id="1287" class="Symbol">(</a><a id="1288" href="univalent-combinatorics.counting-fibers-of-maps.html#834" class="Function">count-fib</a> <a id="1298" href="univalent-combinatorics.counting-fibers-of-maps.html#1157" class="Bound">f</a> <a id="1300" href="univalent-combinatorics.counting-fibers-of-maps.html#1175" class="Bound">count-A</a> <a id="1308" href="univalent-combinatorics.counting-fibers-of-maps.html#1195" class="Bound">count-B</a> <a id="1316" href="univalent-combinatorics.counting-fibers-of-maps.html#1258" class="Bound">x</a><a id="1317" class="Symbol">)))</a>
       <a id="1328" class="Symbol">(</a> <a id="1330" href="univalent-combinatorics.counting.html#1874" class="Function">number-of-elements-count</a> <a id="1355" href="univalent-combinatorics.counting-fibers-of-maps.html#1175" class="Bound">count-A</a><a id="1362" class="Symbol">)</a>
  <a id="1366" href="univalent-combinatorics.counting-fibers-of-maps.html#1077" class="Function">sum-number-of-elements-count-fib</a> <a id="1399" href="univalent-combinatorics.counting-fibers-of-maps.html#1399" class="Bound">f</a> <a id="1401" href="univalent-combinatorics.counting-fibers-of-maps.html#1401" class="Bound">count-A</a> <a id="1409" href="univalent-combinatorics.counting-fibers-of-maps.html#1409" class="Bound">count-B</a> <a id="1417" class="Symbol">=</a>
    <a id="1423" href="univalent-combinatorics.counting-dependent-pair-types.html#9012" class="Function">sum-number-of-elements-count-fiber-count-Σ</a> <a id="1466" href="univalent-combinatorics.counting-fibers-of-maps.html#1409" class="Bound">count-B</a>
      <a id="1480" class="Symbol">(</a> <a id="1482" href="univalent-combinatorics.counting.html#3275" class="Function">count-equiv&#39;</a> <a id="1495" class="Symbol">(</a><a id="1496" href="foundation-core.fibers-of-maps.html#5261" class="Function">equiv-total-fib</a> <a id="1512" href="univalent-combinatorics.counting-fibers-of-maps.html#1399" class="Bound">f</a><a id="1513" class="Symbol">)</a> <a id="1515" href="univalent-combinatorics.counting-fibers-of-maps.html#1401" class="Bound">count-A</a><a id="1522" class="Symbol">)</a>

<a id="1525" class="Keyword">abstract</a>
  <a id="double-counting-fib"></a><a id="1536" href="univalent-combinatorics.counting-fibers-of-maps.html#1536" class="Function">double-counting-fib</a> <a id="1556" class="Symbol">:</a>
    <a id="1562" class="Symbol">{</a><a id="1563" href="univalent-combinatorics.counting-fibers-of-maps.html#1563" class="Bound">l1</a> <a id="1566" href="univalent-combinatorics.counting-fibers-of-maps.html#1566" class="Bound">l2</a> <a id="1569" class="Symbol">:</a> <a id="1571" href="Agda.Primitive.html#597" class="Postulate">Level</a><a id="1576" class="Symbol">}</a> <a id="1578" class="Symbol">{</a><a id="1579" href="univalent-combinatorics.counting-fibers-of-maps.html#1579" class="Bound">A</a> <a id="1581" class="Symbol">:</a> <a id="1583" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="1586" href="univalent-combinatorics.counting-fibers-of-maps.html#1563" class="Bound">l1</a><a id="1588" class="Symbol">}</a> <a id="1590" class="Symbol">{</a><a id="1591" href="univalent-combinatorics.counting-fibers-of-maps.html#1591" class="Bound">B</a> <a id="1593" class="Symbol">:</a> <a id="1595" href="foundation-core.universe-levels.html#222" class="Primitive">UU</a> <a id="1598" href="univalent-combinatorics.counting-fibers-of-maps.html#1566" class="Bound">l2</a><a id="1600" class="Symbol">}</a> <a id="1602" class="Symbol">(</a><a id="1603" href="univalent-combinatorics.counting-fibers-of-maps.html#1603" class="Bound">f</a> <a id="1605" class="Symbol">:</a> <a id="1607" href="univalent-combinatorics.counting-fibers-of-maps.html#1579" class="Bound">A</a> <a id="1609" class="Symbol">→</a> <a id="1611" href="univalent-combinatorics.counting-fibers-of-maps.html#1591" class="Bound">B</a><a id="1612" class="Symbol">)</a> <a id="1614" class="Symbol">(</a><a id="1615" href="univalent-combinatorics.counting-fibers-of-maps.html#1615" class="Bound">count-A</a> <a id="1623" class="Symbol">:</a> <a id="1625" href="univalent-combinatorics.counting.html#1746" class="Function">count</a> <a id="1631" href="univalent-combinatorics.counting-fibers-of-maps.html#1579" class="Bound">A</a><a id="1632" class="Symbol">)</a> <a id="1634" class="Symbol">→</a>
    <a id="1640" class="Symbol">(</a><a id="1641" href="univalent-combinatorics.counting-fibers-of-maps.html#1641" class="Bound">count-B</a> <a id="1649" class="Symbol">:</a> <a id="1651" href="univalent-combinatorics.counting.html#1746" class="Function">count</a> <a id="1657" href="univalent-combinatorics.counting-fibers-of-maps.html#1591" class="Bound">B</a><a id="1658" class="Symbol">)</a> <a id="1660" class="Symbol">(</a><a id="1661" href="univalent-combinatorics.counting-fibers-of-maps.html#1661" class="Bound">count-fib-f</a> <a id="1673" class="Symbol">:</a> <a id="1675" class="Symbol">(</a><a id="1676" href="univalent-combinatorics.counting-fibers-of-maps.html#1676" class="Bound">y</a> <a id="1678" class="Symbol">:</a> <a id="1680" href="univalent-combinatorics.counting-fibers-of-maps.html#1591" class="Bound">B</a><a id="1681" class="Symbol">)</a> <a id="1683" class="Symbol">→</a> <a id="1685" href="univalent-combinatorics.counting.html#1746" class="Function">count</a> <a id="1691" class="Symbol">(</a><a id="1692" href="foundation-core.fibers-of-maps.html#928" class="Function">fib</a> <a id="1696" href="univalent-combinatorics.counting-fibers-of-maps.html#1603" class="Bound">f</a> <a id="1698" href="univalent-combinatorics.counting-fibers-of-maps.html#1676" class="Bound">y</a><a id="1699" class="Symbol">))</a> <a id="1702" class="Symbol">(</a><a id="1703" href="univalent-combinatorics.counting-fibers-of-maps.html#1703" class="Bound">y</a> <a id="1705" class="Symbol">:</a> <a id="1707" href="univalent-combinatorics.counting-fibers-of-maps.html#1591" class="Bound">B</a><a id="1708" class="Symbol">)</a> <a id="1710" class="Symbol">→</a>
    <a id="1716" href="foundation-core.identity-types.html#641" class="Datatype">Id</a> <a id="1719" class="Symbol">(</a> <a id="1721" href="univalent-combinatorics.counting.html#1874" class="Function">number-of-elements-count</a> <a id="1746" class="Symbol">(</a><a id="1747" href="univalent-combinatorics.counting-fibers-of-maps.html#1661" class="Bound">count-fib-f</a> <a id="1759" href="univalent-combinatorics.counting-fibers-of-maps.html#1703" class="Bound">y</a><a id="1760" class="Symbol">))</a>
       <a id="1770" class="Symbol">(</a> <a id="1772" href="univalent-combinatorics.counting.html#1874" class="Function">number-of-elements-count</a> <a id="1797" class="Symbol">(</a><a id="1798" href="univalent-combinatorics.counting-fibers-of-maps.html#834" class="Function">count-fib</a> <a id="1808" href="univalent-combinatorics.counting-fibers-of-maps.html#1603" class="Bound">f</a> <a id="1810" href="univalent-combinatorics.counting-fibers-of-maps.html#1615" class="Bound">count-A</a> <a id="1818" href="univalent-combinatorics.counting-fibers-of-maps.html#1641" class="Bound">count-B</a> <a id="1826" href="univalent-combinatorics.counting-fibers-of-maps.html#1703" class="Bound">y</a><a id="1827" class="Symbol">))</a>
  <a id="1832" href="univalent-combinatorics.counting-fibers-of-maps.html#1536" class="Function">double-counting-fib</a> <a id="1852" href="univalent-combinatorics.counting-fibers-of-maps.html#1852" class="Bound">f</a> <a id="1854" href="univalent-combinatorics.counting-fibers-of-maps.html#1854" class="Bound">count-A</a> <a id="1862" href="univalent-combinatorics.counting-fibers-of-maps.html#1862" class="Bound">count-B</a> <a id="1870" href="univalent-combinatorics.counting-fibers-of-maps.html#1870" class="Bound">count-fib-f</a> <a id="1882" href="univalent-combinatorics.counting-fibers-of-maps.html#1882" class="Bound">y</a> <a id="1884" class="Symbol">=</a>
    <a id="1890" href="univalent-combinatorics.double-counting.html#1097" class="Function">double-counting</a> <a id="1906" class="Symbol">(</a><a id="1907" href="univalent-combinatorics.counting-fibers-of-maps.html#1870" class="Bound">count-fib-f</a> <a id="1919" href="univalent-combinatorics.counting-fibers-of-maps.html#1882" class="Bound">y</a><a id="1920" class="Symbol">)</a> <a id="1922" class="Symbol">(</a><a id="1923" href="univalent-combinatorics.counting-fibers-of-maps.html#834" class="Function">count-fib</a> <a id="1933" href="univalent-combinatorics.counting-fibers-of-maps.html#1852" class="Bound">f</a> <a id="1935" href="univalent-combinatorics.counting-fibers-of-maps.html#1854" class="Bound">count-A</a> <a id="1943" href="univalent-combinatorics.counting-fibers-of-maps.html#1862" class="Bound">count-B</a> <a id="1951" href="univalent-combinatorics.counting-fibers-of-maps.html#1882" class="Bound">y</a><a id="1952" class="Symbol">)</a>
</pre>
<h2>Recent changes</h2>
<pre class="changelog">
(2022-03-23)(35e48e5) Merge pull request #125 from UniMath/daily-challenge by noreply
</pre>
</body>
</html>